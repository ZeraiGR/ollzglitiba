{"version":3,"sources":["01_main.js"],"names":["window","addEventListener","layoutHandler","e","burger","document","querySelector","menu","target","closest","classList","contains","remove","popupLinks","querySelectorAll","body","lockPadding","unlock","length","i","popupLink","popupName","getAttribute","replace","popupOpen","getElementById","preventDefault","popupCloseIcon","el","popupClose","currentPopup","popupActive","lockPaddingValue","innerWidth","offsetWidth","style","paddingRight","add","setTimeout","bodyLock","doUnlock","key","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","popupLogic","singleBars","forEach","nextElementSibling","toggle","sidebarToggle","removeEventListener","menuBurgerHandler","searchBtn","searchFilter","closeFilter","searchBtnHandler"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["window.addEventListener('DOMContentLoaded', function loaded() {\r\n    function popupLogic() {\r\n        'use strict';\r\n        const popupLinks = document.querySelectorAll('.popup-link');\r\n        const body = document.querySelector('body');\r\n        const lockPadding = document.querySelectorAll('.lock-padding');\r\n\r\n        let unlock = true;\r\n\r\n        const timeout = 800;\r\n\r\n        if (popupLinks.length > 0) {\r\n            for (let i = 0; i < popupLinks.length; i++) {\r\n                const popupLink = popupLinks[i];\r\n\r\n                popupLink.addEventListener('click', (e) => {\r\n                    const popupName = popupLink\r\n                        .getAttribute('href')\r\n                        .replace('#', '');\r\n                    const currentPopup = document.getElementById(popupName);\r\n                    popupOpen(currentPopup);\r\n                    e.preventDefault();\r\n                });\r\n            }\r\n        }\r\n\r\n        const popupCloseIcon = document.querySelectorAll('.close-popup');\r\n\r\n        if (popupCloseIcon.length > 0) {\r\n            for (let i = 0; i < popupCloseIcon.length; i++) {\r\n                const el = popupCloseIcon[i];\r\n                el.addEventListener('click', (e) => {\r\n                    popupClose(el.closest('.popup'));\r\n                    e.preventDefault();\r\n                });\r\n            }\r\n        }\r\n\r\n        function popupOpen(currentPopup) {\r\n            if (currentPopup && unlock) {\r\n                const popupActive = document.querySelector('.popup.open');\r\n\r\n                if (popupActive) {\r\n                    popupClose(popupActive, false);\r\n                } else {\r\n                    bodyLock();\r\n                }\r\n\r\n                currentPopup.classList.add('open');\r\n                currentPopup.addEventListener('click', (e) => {\r\n                    if (!e.target.closest('.popup__content')) {\r\n                        popupClose(e.target.closest('.popup'));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        function popupClose(popupActive, doUnlock = true) {\r\n            if (unlock) {\r\n                popupActive.classList.remove('open');\r\n                if (doUnlock) {\r\n                    bodyUnlock();\r\n                }\r\n            }\r\n        }\r\n\r\n        function bodyLock() {\r\n            const lockPaddingValue =\r\n                window.innerWidth - body.offsetWidth + 'px';\r\n\r\n            if (lockPadding.length > 0) {\r\n                for (let i = 0; i < lockPadding.length; i++) {\r\n                    const el = lockPadding[i];\r\n                    el.style.paddingRight = lockPaddingValue;\r\n                }\r\n            }\r\n\r\n            body.style.paddingRight = lockPaddingValue;\r\n            body.classList.add('lock');\r\n\r\n            unlock = false;\r\n            setTimeout(function timer() {\r\n                unlock = true;\r\n            }, timeout);\r\n        }\r\n\r\n        function bodyUnlock() {\r\n            setTimeout(() => {\r\n                if (lockPadding.length > 0) {\r\n                    for (let i = 0; i < lockPadding.length; i++) {\r\n                        const el = lockPadding[i];\r\n                        el.style.paddingRight = '0px';\r\n                    }\r\n                }\r\n                body.style.paddingRight = '0px';\r\n                body.classList.remove('lock');\r\n            }, timeout);\r\n\r\n            unlock = false;\r\n            setTimeout(function timer() {\r\n                unlock = true;\r\n            }, timeout);\r\n        }\r\n\r\n        document.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Escape') {\r\n                const popupActive = document.querySelector('.popup.open');\r\n                popupClose(popupActive);\r\n            }\r\n        });\r\n\r\n        (function () {\r\n            if (!Element.prototype.closest) {\r\n                Element.prototype.closest = function (css) {\r\n                    var node = this;\r\n\r\n                    while (node) {\r\n                        if (node.matches(css)) return node;\r\n                        else node = node.parentElement;\r\n                    }\r\n                    return null;\r\n                };\r\n            }\r\n        })();\r\n\r\n        (function () {\r\n            if (!Element.prototype.matches) {\r\n                Element.prototype.matches =\r\n                    Element.prototype.matchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector ||\r\n                    Element.prototype.mozMatchesSelector ||\r\n                    Element.prototype.msMatchesSelector;\r\n            }\r\n        })();\r\n    }\r\n\r\n    function sidebarToggle() {\r\n        const singleBars = document.querySelectorAll('.sidebar-single__show'),\r\n            singleLists = document.querySelectorAll('.sidebar-single__list');\r\n\r\n        singleBars.forEach((el) => {\r\n            el.addEventListener('click', (e) => {\r\n                let target = e.target;\r\n                if (target.closest('.sidebar-single__show')) {\r\n                    target\r\n                        .closest('.sidebar-single__show')\r\n                        .nextElementSibling.classList.toggle('show');\r\n\r\n                    target\r\n                        .closest('.sidebar-single__show')\r\n                        .querySelector('.catalog__search-icon')\r\n                        .classList.toggle('show');\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function layoutHandler(e) {\r\n        const burger = document.querySelector('.header__burger'),\r\n            menu = document.querySelector('.header__top'),\r\n            target = e.target;\r\n        if (\r\n            target.closest('.header__top') == null &&\r\n            !target.classList.contains('header__burger')\r\n        ) {\r\n            burger.classList.remove('active');\r\n            menu.classList.remove('active');\r\n        }\r\n    }\r\n\r\n    function menuBurgerHandler() {\r\n        const burger = document.querySelector('.header__burger'),\r\n            menu = document.querySelector('.header__top');\r\n\r\n        burger.addEventListener('click', function () {\r\n            this.classList.toggle('active');\r\n            menu.classList.toggle('active');\r\n\r\n            if (this.classList.contains('active')) {\r\n                window.addEventListener('click', layoutHandler);\r\n            } else {\r\n                window.removeEventListener('click', layoutHandler);\r\n            }\r\n        });\r\n    }\r\n\r\n    function searchBtnHandler() {\r\n        const searchBtn = document.querySelector('.catalog__mobile-search'),\r\n            searchFilter = document.querySelector('.sidebar'),\r\n            closeFilter = document.querySelector('.sidebar__close');\r\n\r\n        if (searchBtn) {\r\n            searchBtn.addEventListener('click', function () {\r\n                searchBtn.classList.add('open');\r\n                searchFilter.classList.add('open');\r\n            });\r\n        }\r\n\r\n        if (closeFilter) {\r\n            closeFilter.addEventListener('click', function () {\r\n                searchBtn.classList.remove('open');\r\n                searchFilter.classList.remove('open');\r\n            });\r\n        }\r\n    }\r\n\r\n    popupLogic();\r\n    sidebarToggle();\r\n    menuBurgerHandler();\r\n    searchBtnHandler();\r\n});\r\n"]}