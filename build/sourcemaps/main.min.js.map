{"version":3,"sources":["01_main.js"],"names":["window","addEventListener","layoutHandler","e","burger","document","querySelector","menu","target","loginInfo","closest","classList","contains","remove","console","log","popupLinks","querySelectorAll","body","lockPadding","unlock","length","i","popupLink","popupName","getAttribute","replace","popupOpen","getElementById","preventDefault","popupCloseIcon","el","popupClose","currentPopup","popupActive","lockPaddingValue","innerWidth","offsetWidth","style","paddingRight","add","setTimeout","bodyLock","doUnlock","key","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","popupLogic","singleBars","forEach","nextElementSibling","toggle","sidebarToggle","removeEventListener","menuBurgerHandler","searchBtn","searchFilter","closeFilter","searchBtnHandler","loginBtn","loginHandler","tabs","tab","favoriteTabsHandler","catalogCards","catalogCardHandler"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["window.addEventListener('DOMContentLoaded', function loaded() {\r\n    function popupLogic() {\r\n        'use strict';\r\n        const popupLinks = document.querySelectorAll('.popup-link');\r\n        const body = document.querySelector('body');\r\n        const lockPadding = document.querySelectorAll('.lock-padding');\r\n\r\n        let unlock = true;\r\n\r\n        const timeout = 800;\r\n\r\n        if (popupLinks.length > 0) {\r\n            for (let i = 0; i < popupLinks.length; i++) {\r\n                const popupLink = popupLinks[i];\r\n\r\n                popupLink.addEventListener('click', (e) => {\r\n                    const popupName = popupLink\r\n                        .getAttribute('href')\r\n                        .replace('#', '');\r\n                    const currentPopup = document.getElementById(popupName);\r\n                    popupOpen(currentPopup);\r\n                    e.preventDefault();\r\n                });\r\n            }\r\n        }\r\n\r\n        const popupCloseIcon = document.querySelectorAll('.close-popup');\r\n\r\n        if (popupCloseIcon.length > 0) {\r\n            for (let i = 0; i < popupCloseIcon.length; i++) {\r\n                const el = popupCloseIcon[i];\r\n                el.addEventListener('click', (e) => {\r\n                    popupClose(el.closest('.popup'));\r\n                    e.preventDefault();\r\n                });\r\n            }\r\n        }\r\n\r\n        function popupOpen(currentPopup) {\r\n            if (currentPopup && unlock) {\r\n                const popupActive = document.querySelector('.popup.open');\r\n\r\n                if (popupActive) {\r\n                    popupClose(popupActive, false);\r\n                } else {\r\n                    bodyLock();\r\n                }\r\n\r\n                currentPopup.classList.add('open');\r\n                currentPopup.addEventListener('click', (e) => {\r\n                    if (!e.target.closest('.popup__content')) {\r\n                        popupClose(e.target.closest('.popup'));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        function popupClose(popupActive, doUnlock = true) {\r\n            if (unlock) {\r\n                popupActive.classList.remove('open');\r\n                if (doUnlock) {\r\n                    bodyUnlock();\r\n                }\r\n            }\r\n        }\r\n\r\n        function bodyLock() {\r\n            const lockPaddingValue =\r\n                window.innerWidth - body.offsetWidth + 'px';\r\n\r\n            if (lockPadding.length > 0) {\r\n                for (let i = 0; i < lockPadding.length; i++) {\r\n                    const el = lockPadding[i];\r\n                    el.style.paddingRight = lockPaddingValue;\r\n                }\r\n            }\r\n\r\n            body.style.paddingRight = lockPaddingValue;\r\n            body.classList.add('lock');\r\n\r\n            unlock = false;\r\n            setTimeout(function timer() {\r\n                unlock = true;\r\n            }, timeout);\r\n        }\r\n\r\n        function bodyUnlock() {\r\n            setTimeout(() => {\r\n                if (lockPadding.length > 0) {\r\n                    for (let i = 0; i < lockPadding.length; i++) {\r\n                        const el = lockPadding[i];\r\n                        el.style.paddingRight = '0px';\r\n                    }\r\n                }\r\n                body.style.paddingRight = '0px';\r\n                body.classList.remove('lock');\r\n            }, timeout);\r\n\r\n            unlock = false;\r\n            setTimeout(function timer() {\r\n                unlock = true;\r\n            }, timeout);\r\n        }\r\n\r\n        document.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Escape') {\r\n                const popupActive = document.querySelector('.popup.open');\r\n                popupClose(popupActive);\r\n            }\r\n        });\r\n\r\n        (function () {\r\n            if (!Element.prototype.closest) {\r\n                Element.prototype.closest = function (css) {\r\n                    var node = this;\r\n\r\n                    while (node) {\r\n                        if (node.matches(css)) return node;\r\n                        else node = node.parentElement;\r\n                    }\r\n                    return null;\r\n                };\r\n            }\r\n        })();\r\n\r\n        (function () {\r\n            if (!Element.prototype.matches) {\r\n                Element.prototype.matches =\r\n                    Element.prototype.matchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector ||\r\n                    Element.prototype.mozMatchesSelector ||\r\n                    Element.prototype.msMatchesSelector;\r\n            }\r\n        })();\r\n    }\r\n\r\n    function sidebarToggle() {\r\n        const singleBars = document.querySelectorAll('.sidebar-single__show'),\r\n            singleLists = document.querySelectorAll('.sidebar-single__list');\r\n\r\n        singleBars.forEach((el) => {\r\n            el.addEventListener('click', (e) => {\r\n                let target = e.target;\r\n                if (target.closest('.sidebar-single__show')) {\r\n                    target\r\n                        .closest('.sidebar-single__show')\r\n                        .nextElementSibling.classList.toggle('show');\r\n\r\n                    target\r\n                        .closest('.sidebar-single__show')\r\n                        .querySelector('.catalog__search-icon')\r\n                        .classList.toggle('show');\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    function layoutHandler(e) {\r\n        const burger = document.querySelector('.header__burger'),\r\n            menu = document.querySelector('.header__top'),\r\n            target = e.target,\r\n            loginInfo = document.querySelector('.authorized__info');\r\n        if (\r\n            target.closest('.header__top') == null &&\r\n            !target.classList.contains('header__burger')\r\n        ) {\r\n            burger.classList.remove('active');\r\n            menu.classList.remove('active');\r\n        }\r\n\r\n        console.log();\r\n\r\n        if (\r\n            target.closest('.authorized__info') == null &&\r\n            !target.classList.contains('authorized__portrain')\r\n        ) {\r\n            loginInfo.classList.remove('active');\r\n        }\r\n    }\r\n\r\n    function menuBurgerHandler() {\r\n        const burger = document.querySelector('.header__burger'),\r\n            menu = document.querySelector('.header__top');\r\n\r\n        burger.addEventListener('click', function () {\r\n            this.classList.toggle('active');\r\n            menu.classList.toggle('active');\r\n\r\n            if (this.classList.contains('active')) {\r\n                window.addEventListener('click', layoutHandler);\r\n            } else {\r\n                window.removeEventListener('click', layoutHandler);\r\n            }\r\n        });\r\n    }\r\n\r\n    function searchBtnHandler() {\r\n        const searchBtn = document.querySelector('.catalog__mobile-search'),\r\n            searchFilter = document.querySelector('.sidebar'),\r\n            closeFilter = document.querySelector('.sidebar__close'),\r\n            body = document.querySelector('body');\r\n\r\n        if (searchBtn) {\r\n            searchBtn.addEventListener('click', function () {\r\n                searchBtn.classList.add('open');\r\n                searchFilter.classList.add('open');\r\n                body.classList.add('lock');\r\n            });\r\n        }\r\n\r\n        if (closeFilter) {\r\n            closeFilter.addEventListener('click', function () {\r\n                searchBtn.classList.remove('open');\r\n                searchFilter.classList.remove('open');\r\n                body.classList.remove('lock');\r\n            });\r\n        }\r\n    }\r\n\r\n    function loginHandler() {\r\n        const loginBtn = document.querySelector('.authorized__portrain'),\r\n            loginInfo = document.querySelector('.authorized__info');\r\n\r\n        if (loginBtn) {\r\n            loginBtn.addEventListener('click', function () {\r\n                loginInfo.classList.toggle('active');\r\n\r\n                if (loginInfo.classList.contains('active')) {\r\n                    window.addEventListener('click', layoutHandler);\r\n                } else {\r\n                    window.removeEventListener('click', layoutHandler);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function favoriteTabsHandler() {\r\n        const tabs = document.querySelector('.favorite__category'),\r\n            tab = document.querySelectorAll('.favorite__item');\r\n\r\n        if (tabs) {\r\n            tabs.addEventListener('click', (e) => {\r\n                const target = e.target;\r\n                if (target.classList.contains('favorite__item')) {\r\n                    tab.forEach((el) => {\r\n                        el.classList.remove('active');\r\n                    });\r\n                    target.classList.add('active');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function catalogCardHandler() {\r\n        const catalogCards = document.querySelectorAll('.instrument--catalog');\r\n\r\n        if (catalogCards) {\r\n            catalogCards.forEach((el) => {\r\n                el.addEventListener('click', function () {\r\n                    this.classList.toggle('choosen');\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    popupLogic();\r\n    sidebarToggle();\r\n    menuBurgerHandler();\r\n    searchBtnHandler();\r\n    loginHandler();\r\n    favoriteTabsHandler();\r\n    catalogCardHandler();\r\n});\r\n\r\n// https://jsfiddle.net/95tnmdyr/\r\n// it's solution for the smooth animation\r\n"]}